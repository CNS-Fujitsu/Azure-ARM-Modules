{
    "azuredeploy_parameters": {
        "requiredModuleAZVnet-2a" : {
            "type" : "string",
            "allowedValues": [
                "Yes",
                "No"
            ]
        },
        "module-azVnet2a" : {
            "type" : "object"
        },
        "customTages": {
            "type": "object"
        }
    },
    "azuruedeploy_variables": {
        "moduleStoreURL": "https://raw.githubusercontent.com/fujitsuk5/Azure-ARM-Modules/master/modules/",
        "Module-azVnet2a-URL": "[concat(variables('moduleStoreURL'),'virtualNetworks/', 'azVnet-2a.json')]",
    
    },
    "azuruedeploy_resources": [
            {
            "apiVersion": "2017-05-10",
            "name": "azVnet-2a",
            "comments": "Module to deploy a virtual network with 2 subnets",
            "type": "Microsoft.Resources/deployments",
            "condition": "[equals(parameters('requiredModuleAZVnet-2a'), 'Yes')]",
            "properties" : {
                "mode": "Incremental",
                "templateLink": {
                    "uri": "[variables('Module-azVnet2a-URL')]",
                    "contentVersion": "1.0.0.1"
                    },
                "parameters": {
                    "module-azVnet2a": {
                        "value": "[parameters('module-azVnet2a')]"
                        },
                    "customTages": {
                    "value": "[parameters('customTages')]"
                    }   
                }
            }
        }
    ],
    "azuredeploy.parameters_parameters": {
        "requiredModuleAZVnet-2a" : {
            "value" : "No" 
        },
        "module-azVnet2a":{
            "value":{
                "vnetName" : "prod-ne1-vnet",
                "vnetCIDR" : "10.0.0.0/16",
                "subnets":[
                    {
                        "name": "prod-ne1-vnet-subnet1",
                        "addressPrefix": "10.0.0.0/24"
                    },
                    {
                        "name":"prod-ne1-vnet-subnet2",
                        "addressPrefix":"10.0.1.0/24"
                    }
                ]
            }
        }
    }
}